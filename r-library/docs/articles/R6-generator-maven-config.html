<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R6 Generator Maven Plugin: Metadata and Maven configuration â€¢ testRapi</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="R6 Generator Maven Plugin: Metadata and Maven configuration">
<meta property="og:description" content="testRapi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testRapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/testRapi.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/R6-generator-datatypes.html">R6 Generator Maven Plugin: Datatype conversion</a>
    </li>
    <li>
      <a href="../articles/R6-generator-features.html">R6 Generator Maven Plugin: Key features</a>
    </li>
    <li>
      <a href="../articles/R6-generator-intro.html">R6 Generator Maven Plugin: Bridging Java and R6 for Package Development</a>
    </li>
    <li>
      <a href="../articles/R6-generator-maven-config.html">R6 Generator Maven Plugin: Metadata and Maven configuration</a>
    </li>
    <li>
      <a href="../articles/R6-generator-runtime.html">R6 Generator Runtime: Using R Datatypes in Java</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>R6 Generator Maven Plugin: Metadata and Maven configuration</h1>
                        <h4 class="author">Rob Challen</h4>
            
            <h4 class="date">26/10/2020</h4>
      
      
      <div class="hidden name"><code>R6-generator-maven-config.Rmd</code></div>

    </div>

    
    
<div class="watermark">
DRAFT
</div>
<div id="maven-pom-xml-options" class="section level2">
<h2 class="hasAnchor">
<a href="#maven-pom-xml-options" class="anchor"></a>Maven <code>pom.xml</code> options</h2>
<p>An example of the Maven configuration from this test project is shown below. The key parts of this configuration are described below:</p>
<ul>
<li>Dependency on the <code>r6-generator-runtime</code> Java library.</li>
<li>Jitpack Maven repository declarations for both code and plugins.</li>
<li>Plugin configuration for the <code>r6-generator-maven-plugin</code>.</li>
</ul>
<div id="sample-pom-xml" class="section level3">
<h3 class="hasAnchor">
<a href="#sample-pom-xml" class="anchor"></a>Sample <code>pom.xml</code>
</h3>
<div class="sourceCode"><pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;project</span><span class="ot"> xmlns=</span><span class="st">"http://maven.apache.org/POM/4.0.0"</span><span class="ot"> xmlns:xsi=</span><span class="st">"http://www.w3.org/2001/XMLSchema-instance"</span>
<span class="ot">    xsi:schemaLocation=</span><span class="st">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="kw">&gt;</span>
    <span class="kw">&lt;modelVersion&gt;</span>4.0.0<span class="kw">&lt;/modelVersion&gt;</span>

    <span class="kw">&lt;properties&gt;</span>
        <span class="kw">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="kw">&lt;/project.build.sourceEncoding&gt;</span>
        <span class="kw">&lt;maven.compiler.source&gt;</span>1.8<span class="kw">&lt;/maven.compiler.source&gt;</span>
        <span class="kw">&lt;maven.compiler.target&gt;</span>1.8<span class="kw">&lt;/maven.compiler.target&gt;</span>
        <span class="kw">&lt;r6.version&gt;</span>master-SNAPSHOT<span class="kw">&lt;/r6.version&gt;</span>
    <span class="kw">&lt;/properties&gt;</span>

    <span class="kw">&lt;groupId&gt;</span>com.github.terminological<span class="kw">&lt;/groupId&gt;</span>
    <span class="kw">&lt;artifactId&gt;</span>r6-generator-maven-plugin-test<span class="kw">&lt;/artifactId&gt;</span>
    <span class="kw">&lt;version&gt;</span>${r6.version}<span class="kw">&lt;/version&gt;</span>
    <span class="kw">&lt;packaging&gt;</span>jar<span class="kw">&lt;/packaging&gt;</span>

    <span class="kw">&lt;name&gt;</span>R6 Generator Maven Plugin Test<span class="kw">&lt;/name&gt;</span>

    <span class="kw">&lt;dependencies&gt;</span>
        <span class="kw">&lt;dependency&gt;</span>
            <span class="kw">&lt;groupId&gt;</span>com.github.terminological<span class="kw">&lt;/groupId&gt;</span>
            <span class="kw">&lt;artifactId&gt;</span>r6-generator-runtime<span class="kw">&lt;/artifactId&gt;</span>
            <span class="kw">&lt;version&gt;</span>${r6.version}<span class="kw">&lt;/version&gt;</span>
        <span class="kw">&lt;/dependency&gt;</span>
        <span class="kw">&lt;dependency&gt;</span>
            <span class="kw">&lt;groupId&gt;</span>junit<span class="kw">&lt;/groupId&gt;</span>
            <span class="kw">&lt;artifactId&gt;</span>junit<span class="kw">&lt;/artifactId&gt;</span>
            <span class="kw">&lt;version&gt;</span>4.11<span class="kw">&lt;/version&gt;</span>
            <span class="kw">&lt;scope&gt;</span>test<span class="kw">&lt;/scope&gt;</span>
        <span class="kw">&lt;/dependency&gt;</span>
    <span class="kw">&lt;/dependencies&gt;</span>

    <span class="co">&lt;!-- Resolve runtime library on github --&gt;</span>
    <span class="kw">&lt;repositories&gt;</span>
        <span class="kw">&lt;repository&gt;</span>
            <span class="kw">&lt;id&gt;</span>jitpack.io<span class="kw">&lt;/id&gt;</span>
            <span class="kw">&lt;url&gt;</span>https://jitpack.io<span class="kw">&lt;/url&gt;</span>
        <span class="kw">&lt;/repository&gt;</span>
    <span class="kw">&lt;/repositories&gt;</span>

    <span class="co">&lt;!-- Resolve maven plugin on github --&gt;</span>
    <span class="kw">&lt;pluginRepositories&gt;</span>
        <span class="kw">&lt;pluginRepository&gt;</span>
            <span class="kw">&lt;id&gt;</span>jitpack.io<span class="kw">&lt;/id&gt;</span>
            <span class="kw">&lt;url&gt;</span>https://jitpack.io<span class="kw">&lt;/url&gt;</span>
        <span class="kw">&lt;/pluginRepository&gt;</span>
    <span class="kw">&lt;/pluginRepositories&gt;</span>
        
    <span class="kw">&lt;build&gt;</span>
        <span class="kw">&lt;plugins&gt;</span>
            <span class="kw">&lt;plugin&gt;</span>
                <span class="kw">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="kw">&lt;/artifactId&gt;</span>
                <span class="kw">&lt;version&gt;</span>3.1<span class="kw">&lt;/version&gt;</span>
                <span class="kw">&lt;configuration&gt;</span>
                    <span class="kw">&lt;source&gt;</span>${maven.compiler.source}<span class="kw">&lt;/source&gt;</span>
                    <span class="kw">&lt;target&gt;</span>${maven.compiler.target}<span class="kw">&lt;/target&gt;</span>
                <span class="kw">&lt;/configuration&gt;</span>
            <span class="kw">&lt;/plugin&gt;</span>
            <span class="kw">&lt;plugin&gt;</span>
                <span class="kw">&lt;groupId&gt;</span>com.github.terminological<span class="kw">&lt;/groupId&gt;</span>
                <span class="kw">&lt;artifactId&gt;</span>r6-generator-maven-plugin<span class="kw">&lt;/artifactId&gt;</span>
                <span class="kw">&lt;version&gt;</span>${r6.version}<span class="kw">&lt;/version&gt;</span>
                <span class="kw">&lt;configuration&gt;</span>
                    <span class="kw">&lt;packageData&gt;</span>
                        <span class="kw">&lt;title&gt;</span>A test library<span class="kw">&lt;/title&gt;</span>
                        <span class="kw">&lt;version&gt;</span>0.2.0.9000<span class="kw">&lt;/version&gt;</span>
                        <span class="kw">&lt;url&gt;</span>https://terminological.github.io/r6-generator-maven-plugin-test/r-library/docs/<span class="kw">&lt;/url&gt;</span>
                        <span class="kw">&lt;doi&gt;</span>10.5281/zenodo.6576058<span class="kw">&lt;/doi&gt;</span>
                        <span class="kw">&lt;debug&gt;</span>false<span class="kw">&lt;/debug&gt;</span>
                        <span class="kw">&lt;usePkgdown&gt;</span>true<span class="kw">&lt;/usePkgdown&gt;</span>
                        <span class="kw">&lt;useRoxygen2&gt;</span>true<span class="kw">&lt;/useRoxygen2&gt;</span>
                        <span class="kw">&lt;useJavadoc&gt;</span>true<span class="kw">&lt;/useJavadoc&gt;</span>
                        <span class="kw">&lt;rjavaOpts&gt;</span>
                            <span class="kw">&lt;rjavaOpt&gt;</span>-Xmx256M<span class="kw">&lt;/rjavaOpt&gt;</span>
                        <span class="kw">&lt;/rjavaOpts&gt;</span>
                        <span class="kw">&lt;packageName&gt;</span>testRapi<span class="kw">&lt;/packageName&gt;</span>
                        <span class="kw">&lt;license&gt;</span>MIT<span class="kw">&lt;/license&gt;</span>
                        <span class="kw">&lt;description&gt;</span>
                            This package is a feature test of the R6 Generator Maven Plugin. It is not
                            intended to be useful beyond testing, demonstrating and documenting 
                            the features of the plugin.
                        <span class="kw">&lt;/description&gt;</span>
                        <span class="kw">&lt;maintainerName&gt;</span>Rob<span class="kw">&lt;/maintainerName&gt;</span>
                        <span class="kw">&lt;maintainerFamilyName&gt;</span>Challen<span class="kw">&lt;/maintainerFamilyName&gt;</span>
                        <span class="kw">&lt;maintainerEmail&gt;</span>rc538@exeter.ac.uk<span class="kw">&lt;/maintainerEmail&gt;</span>
                        <span class="kw">&lt;maintainerOrganisation&gt;</span>University of Exeter<span class="kw">&lt;/maintainerOrganisation&gt;</span>
                    <span class="kw">&lt;/packageData&gt;</span>
                    <span class="kw">&lt;outputDirectory&gt;</span>${project.basedir}/r-library<span class="kw">&lt;/outputDirectory&gt;</span>
                <span class="kw">&lt;/configuration&gt;</span>
                <span class="kw">&lt;executions&gt;</span>
                    <span class="kw">&lt;execution&gt;</span>
                        <span class="kw">&lt;id&gt;</span>compile-java-library<span class="kw">&lt;/id&gt;</span>
                        <span class="kw">&lt;goals&gt;</span>
                            <span class="kw">&lt;goal&gt;</span>compile-java-library<span class="kw">&lt;/goal&gt;</span>
                        <span class="kw">&lt;/goals&gt;</span>
                    <span class="kw">&lt;/execution&gt;</span>
                    <span class="kw">&lt;execution&gt;</span>
                        <span class="kw">&lt;id&gt;</span>generate-r-library<span class="kw">&lt;/id&gt;</span>
                        <span class="kw">&lt;goals&gt;</span>
                            <span class="kw">&lt;goal&gt;</span>generate-r-library<span class="kw">&lt;/goal&gt;</span>
                        <span class="kw">&lt;/goals&gt;</span>
                    <span class="kw">&lt;/execution&gt;</span>
                <span class="kw">&lt;/executions&gt;</span>
            <span class="kw">&lt;/plugin&gt;</span>
        <span class="kw">&lt;/plugins&gt;</span>
    <span class="kw">&lt;/build&gt;</span>
<span class="kw">&lt;/project&gt;</span></code></pre></div>
</div>
</div>
<div id="the-r6-generator-runtime-java-library" class="section level2">
<h2 class="hasAnchor">
<a href="#the-r6-generator-runtime-java-library" class="anchor"></a>The r6-generator-runtime Java library</h2>
<p>The <code>runtime</code> java library contains code needed in the development of R compatible libraries in Java. These are the annotations that identify a Java Class as part of the R Api, (<code>uk.co.terminological.rjava.RClass</code> and <code>uk.co.terminological.rjava.RMethod</code>), specialised data types that can be round tripped between R and Java (in package <code>uk.co.terminological.rjava.types.*</code>), and various data conversion helpers (e.g. <code>uk.co.terminological.rjava.RConverter</code>) which can be used to accelerate development of an R centric API in Java.</p>
</div>
<div id="jitpack-maven-repository-declarations-for-both-code-and-plugins" class="section level2">
<h2 class="hasAnchor">
<a href="#jitpack-maven-repository-declarations-for-both-code-and-plugins" class="anchor"></a>Jitpack maven repository declarations for both code and plugins</h2>
<p>Both the core maven plugin and the <code>runtime</code> library are available through the Jitpack repository. The <code>${r6.version}</code> property is here set to <code>master-SNAPSHOT</code> which retrieves the development version of the plugin. or could be <code>1.0</code> for stable versions. The most recent stable release version numbers will be available <a href="https://github.com/terminological/r6-generator-maven-plugin/tags">on the github releases page</a></p>
</div>
<div id="plugin-configuration-for-the-r6-generator-maven-plugin" class="section level2">
<h2 class="hasAnchor">
<a href="#plugin-configuration-for-the-r6-generator-maven-plugin" class="anchor"></a>Plugin configuration for the r6-generator-maven-plugin</h2>
<div id="outputdirectory" class="section level3">
<h3 class="hasAnchor">
<a href="#outputdirectory" class="anchor"></a>outputDirectory</h3>
<p>The plugin needs to know where to output the R library. In the example above this is <code>&lt;outputDirectory&gt;${project.basedir}/r-library&lt;/outputDirectory&gt;</code> which specifies the generated code will reside in the <code>r-library</code> sub-directory of the project. Keeping the source code within the project is a reasonable option as the resulting code can be committed to GitHub with the Java source. If it is generated in a sub-directory this must be specified if the library is intended to be installed via GitHub (e.g. <code><a href="https://devtools.r-lib.org/reference/remote-reexports.html">devtools::install_github("terminological/r6-generator-maven-plugin-test", subdir = "r-library")</a></code>. It is also equally possible to place the generated code into the root directory of the project (<code>${project.basedir}</code>) or indeed into a completely separate directory.</p>
</div>
<div id="packagedata" class="section level3">
<h3 class="hasAnchor">
<a href="#packagedata" class="anchor"></a>packageData</h3>
<p>The package data section includes metadata that describes the R library and a few control flags:</p>
<ul>
<li><code>title</code></li>
<li>the title is used in description files and man pages</li>
<li><code>version</code></li>
<li>
<code>debug</code> (optional - defaults to <code>false</code>)</li>
<li>a <code>true</code> or <code>false</code> value that determines whether remote java debugging should be compiled into the R package. Remote debugging affects performance and can prevent the loading of the R package if previous versions have not been unload correctly. This is useful only for debugging R to Java integration problems.</li>
<li>
<code>usePkgdown</code> (optional - defaults to <code>false</code>)</li>
<li>If the generated R package is working and loads correctly we can use <em>pkgdown</em> to generate online documentation. This will be generated in a <code>docs</code> sub-folder of the project <code>outputDirectory</code>. This can be pushed to GitHub and used as online documentation of the generated R library. Regardless of online documentation, the standard R <code>man</code> pages are generated for interactive help on the package. Pkgdown documentation will not be generated if the project is in debug mode.</li>
<li>
<code>useRoxygen2</code> (optional - defaults to <code>false</code>)</li>
<li>If the generated R package is working and loads correctly we can use <em>devtools</em> to generate configuration files and man pages for the package using Roxygen2 annotations. This also allows co-existence of manually written and generated functions, within the same package. This is a fairly experimental feature and I can't promise that generated code will not accidentally over-write manually written code. Use it at your own risk.</li>
<li>
<code>useJavadoc</code> (optional - defaults to <code>false</code>)</li>
<li>Along side the R documentation it may be helpful to provide Javadocs of the Java back end of the library. These are generated into the <code>docs\javadoc</code> sub-folder.</li>
<li><code>rjavaOpts\rjavaOpt</code></li>
<li>A list of JVM flags can be provided that will be provided during the initialization of the Java Virtual Machine (JVM). In the example here the JVM is given 256Mb of heap space (<code>-Xmx256M</code>). Only one JVM is initialised regardless of how many different Java based R packages are used, and only the first one gets to decide the initial parameters. As such these options may be ignored by R if a JVM has already been created. Javadoc documentation will not be generated if the project is in debug mode.</li>
<li><code>packageName</code></li>
<li>the most important entry - the desired name of the package forms the name space for the package so it is best that it is short and has not already been used for a R package - e.g. don't call it "stats".</li>
<li><code>license</code></li>
<li>a license specification - it is best to use a <a href="https://cran.r-project.org/web/licenses/">CRAN friendly license</a>. N.B. This should be <code>MIT</code> rather than <code>MIT + file LICENSE</code>, the additional license file is added if needed.</li>
<li>
<code>maintainerName</code>, <code>maintainerFamilyName</code>, <code>maintainerEmail</code>, <code>maintainerOrganisation</code>
</li>
<li>the author details used here are supplemented by any author details found in <code>@Author</code> Java doclet tags in the code.</li>
</ul>
</div>
</div>
<div id="goals" class="section level2">
<h2 class="hasAnchor">
<a href="#goals" class="anchor"></a>Goals</h2>
<p>The plugin only has a single goal - "generate-r-library"</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Rob Challen, terminological, given family.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
